{"version":3,"file":"simple-formatter.js","sources":["../../modules/bluecadet_utilities/assets/src/js/simple-formatter.js"],"sourcesContent":["(function ($) {\n\n  Drupal.behaviors.bcSimpleFormatter = {\n    attach: function (context, settings) {\n\n      $(\".form-item .content-editable:not(.ec-bound)\", context).each(function (i, el) {\n        $attached_input = $(el).parents('.simple-formatter-field-container').find(\"input\");\n\n        $(el).on(\"blur keyup paste input\", function () {\n          $(this).parents('.simple-formatter-field-container').find(\"input\").val( this.innerHTML );\n        });\n\n        $attached_input.on(\"keyup change\", function () {\n          $(this).parents('.simple-formatter-field-container').find(\".content-editable\")[0].innerHTML = $(this).val();\n        }).trigger(\"change\").on('invalid', function () {\n          // Flip to real form item so browser validation works ok.\n          $(this).parents('.simple-formatter-field-container').addClass('raw-mode');\n        });\n\n        // Attach once.\n        $(el).parent().find(\"button.simple-editor-button\").on('click', function (e) {\n          e.preventDefault();\n\n          if ($(this).hasClass('simple-editor-button--bold')) {\n            document.execCommand('bold', false, null);\n          }\n          if ($(this).hasClass('simple-editor-button--italic')) {\n            document.execCommand('italic', false, null);\n          }\n          if ($(this).hasClass('simple-editor-button--underline')) {\n            document.execCommand('underline', false, null);\n          }\n\n          if ($(this).hasClass('simple-editor-button--remove_formatting')) {\n            document.execCommand('removeFormat', false, null);\n          }\n\n          if ($(this).hasClass('simple-editor-button--toggle-source')) {\n            $(this).parents('.simple-formatter-field-container').toggleClass('raw-mode');\n          }\n\n        });\n\n        $(el).addClass('ec-bound');\n      });\n    }\n  }\n\n})(jQuery);\n"],"names":["$","Drupal","behaviors","bcSimpleFormatter","attach","context","settings","each","i","el","$attached_input","parents","find","on","val","innerHTML","trigger","addClass","parent","e","preventDefault","hasClass","document","execCommand","toggleClass","jQuery"],"mappings":"AAAA,CAAC,UAAUA,CAAV,EAAa;AAEZC,EAAAA,MAAM,CAACC,SAAP,CAAiBC,iBAAjB,GAAqC;AACnCC,IAAAA,MAAM,EAAE,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAEnCN,MAAAA,CAAC,CAAC,6CAAD,EAAgDK,OAAhD,CAAD,CAA0DE,IAA1D,CAA+D,UAAUC,CAAV,EAAaC,EAAb,EAAiB;AAC9EC,QAAAA,eAAe,GAAGV,CAAC,CAACS,EAAD,CAAD,CAAME,OAAN,CAAc,mCAAd,EAAmDC,IAAnD,CAAwD,OAAxD,CAAlB;AAEAZ,QAAAA,CAAC,CAACS,EAAD,CAAD,CAAMI,EAAN,CAAS,wBAAT,EAAmC,YAAY;AAC7Cb,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,mCAAhB,EAAqDC,IAArD,CAA0D,OAA1D,EAAmEE,GAAnE,CAAwE,KAAKC,SAA7E;AACD,SAFD;AAIAL,QAAAA,eAAe,CAACG,EAAhB,CAAmB,cAAnB,EAAmC,YAAY;AAC7Cb,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,mCAAhB,EAAqDC,IAArD,CAA0D,mBAA1D,EAA+E,CAA/E,EAAkFG,SAAlF,GAA8Ff,CAAC,CAAC,IAAD,CAAD,CAAQc,GAAR,EAA9F;AACD,SAFD,EAEGE,OAFH,CAEW,QAFX,EAEqBH,EAFrB,CAEwB,SAFxB,EAEmC,YAAY;AAC7C;AACAb,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,mCAAhB,EAAqDM,QAArD,CAA8D,UAA9D;AACD,SALD,EAP8E;;AAe9EjB,QAAAA,CAAC,CAACS,EAAD,CAAD,CAAMS,MAAN,GAAeN,IAAf,CAAoB,6BAApB,EAAmDC,EAAnD,CAAsD,OAAtD,EAA+D,UAAUM,CAAV,EAAa;AAC1EA,UAAAA,CAAC,CAACC,cAAF;;AAEA,cAAIpB,CAAC,CAAC,IAAD,CAAD,CAAQqB,QAAR,CAAiB,4BAAjB,CAAJ,EAAoD;AAClDC,YAAAA,QAAQ,CAACC,WAAT,CAAqB,MAArB,EAA6B,KAA7B,EAAoC,IAApC;AACD;;AACD,cAAIvB,CAAC,CAAC,IAAD,CAAD,CAAQqB,QAAR,CAAiB,8BAAjB,CAAJ,EAAsD;AACpDC,YAAAA,QAAQ,CAACC,WAAT,CAAqB,QAArB,EAA+B,KAA/B,EAAsC,IAAtC;AACD;;AACD,cAAIvB,CAAC,CAAC,IAAD,CAAD,CAAQqB,QAAR,CAAiB,iCAAjB,CAAJ,EAAyD;AACvDC,YAAAA,QAAQ,CAACC,WAAT,CAAqB,WAArB,EAAkC,KAAlC,EAAyC,IAAzC;AACD;;AAED,cAAIvB,CAAC,CAAC,IAAD,CAAD,CAAQqB,QAAR,CAAiB,yCAAjB,CAAJ,EAAiE;AAC/DC,YAAAA,QAAQ,CAACC,WAAT,CAAqB,cAArB,EAAqC,KAArC,EAA4C,IAA5C;AACD;;AAED,cAAIvB,CAAC,CAAC,IAAD,CAAD,CAAQqB,QAAR,CAAiB,qCAAjB,CAAJ,EAA6D;AAC3DrB,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,mCAAhB,EAAqDa,WAArD,CAAiE,UAAjE;AACD;AAEF,SArBD;AAuBAxB,QAAAA,CAAC,CAACS,EAAD,CAAD,CAAMQ,QAAN,CAAe,UAAf;AACD,OAvCD;AAwCD;AA3CkC,GAArC;AA8CD,CAhDD,EAgDGQ,MAhDH"}